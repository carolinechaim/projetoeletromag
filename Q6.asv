run('Q5.m');
spacing = 20;
distance = linspace(0.05,0.5,iterations);
gain = zeros(iterations,iterations);

for i=1:length(distance)/20:length(distance)
    n=distance(i);
    array.ElementSpacing = n;
    ganho = sparameters(array, freq_list);
    gain(:,i)= abs(ganho.Parameters(2,1,:));
end 

s = surf(freq_list,distance,transpose(gain));
s.EdgeColor = 'none';
s.FaceColor = 'interp';
colorbar;
xlabel("Frequência");
ylabel("Distância");
zlabel("Ganho");
